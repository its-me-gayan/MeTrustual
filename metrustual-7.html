<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MeTrustual</title>
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&display=swap" rel="stylesheet">
<style>
* { margin:0; padding:0; box-sizing:border-box; -webkit-tap-highlight-color:transparent; }
body { background:#fef6f0; font-family:'Nunito',sans-serif; display:flex; justify-content:center; align-items:flex-start; min-height:100vh; padding:32px 16px 60px; }

/* â”€â”€ PHONE â”€â”€ */
.phone { width:360px; min-height:740px; background:#fff8f5; border-radius:44px; overflow:hidden; box-shadow:0 24px 60px rgba(200,100,100,0.15),0 4px 16px rgba(200,100,100,0.08); position:relative; border:1.5px solid rgba(255,200,190,0.5); }
.notch { background:#fff8f5; display:flex; justify-content:center; padding:10px 0 4px; }
.notch-inner { width:90px; height:22px; background:#f0e0da; border-radius:0 0 14px 14px; }
.status { display:flex; justify-content:space-between; padding:2px 22px 6px; font-size:0.65rem; font-weight:800; color:#c9a0a0; }

/* â”€â”€ SCREENS â”€â”€ */
.screen { display:none; }
.screen.active { display:block; animation:pop 0.3s ease; }
@keyframes pop { from{opacity:0;transform:scale(0.98)} to{opacity:1;transform:scale(1)} }
.scr-pad { padding:0 22px 110px; }

/* â”€â”€ BOTTOM NAV â”€â”€ */
.nav { position:absolute; bottom:0; left:0; right:0; background:white; border-top:1.5px solid #fce8e4; display:flex; padding:10px 0 18px; border-radius:0 0 44px 44px; }
.nav-item { flex:1; display:flex; flex-direction:column; align-items:center; gap:3px; cursor:pointer; font-size:0.55rem; font-weight:800; color:#e0b0b0; text-transform:uppercase; letter-spacing:0.4px; }
.nav-item span { font-size:1.3rem; transition:transform 0.2s; }
.nav-item.on { color:#d97b8a; }
.nav-item.on span { transform:scale(1.15); }
.nav-item.on-bl { color:#4a70b0; }
.nav-item.on-bl span { transform:scale(1.15); }
.nav-item.on-gr { color:#5a8e6a; }
.nav-item.on-gr span { transform:scale(1.15); }

/* â”€â”€ SHARED COMPONENTS â”€â”€ */
.page-title { font-size:1.3rem; font-weight:900; color:#3d2828; margin-bottom:4px; }
.page-sub { font-size:0.72rem; font-weight:700; color:#d0a0a8; margin-bottom:16px; }
.section { font-size:0.72rem; font-weight:900; color:#c0a0a8; text-transform:uppercase; letter-spacing:0.6px; margin-bottom:10px; margin-top:20px; }
.section:first-of-type { margin-top:0; }
.save-btn { width:100%; padding:15px; background:linear-gradient(135deg,#f09090,#d97b8a); color:white; border:none; border-radius:18px; font-size:0.9rem; font-weight:800; cursor:pointer; font-family:'Nunito',sans-serif; box-shadow:0 6px 18px rgba(217,123,138,0.35); transition:all 0.2s; margin-top:18px; }
.save-btn:hover { transform:translateY(-2px); }
.save-btn-bl { background:linear-gradient(135deg,#7aa0e0,#4a70b0); box-shadow:0 6px 18px rgba(74,112,176,0.3); }
.save-btn-gr { background:linear-gradient(135deg,#78c890,#5a8e6a); box-shadow:0 6px 18px rgba(90,142,106,0.3); }

/* â”€â”€ SPLASH â”€â”€ */
.splash { position:absolute; inset:0; z-index:999; background:linear-gradient(165deg,#fff0f0 0%,#fde8f0 40%,#f0e8fc 100%); display:flex; flex-direction:column; align-items:center; justify-content:center; border-radius:42px; overflow:hidden; }
.sp-rings { position:absolute; inset:0; display:flex; align-items:center; justify-content:center; pointer-events:none; }
.sp-ring { position:absolute; border-radius:50%; border:1.5px solid rgba(217,123,138,0.15); animation:spRing 2.8s ease-out infinite; }
.sp-ring:nth-child(1){width:150px;height:150px;animation-delay:0s}
.sp-ring:nth-child(2){width:220px;height:220px;animation-delay:0.7s}
.sp-ring:nth-child(3){width:300px;height:300px;animation-delay:1.4s}
@keyframes spRing{0%{transform:scale(0.5);opacity:0.9}100%{transform:scale(1.5);opacity:0}}
.sp-petals { position:absolute; inset:0; overflow:hidden; pointer-events:none; }
.sp-p { position:absolute; bottom:-50px; animation:spFloat linear infinite; opacity:0; }
@keyframes spFloat{0%{transform:translateY(0) rotate(0);opacity:0}8%{opacity:0.7}85%{opacity:0.3}100%{transform:translateY(-110vh) rotate(400deg);opacity:0}}
.sp-logo { position:relative; z-index:2; width:100px; height:100px; border-radius:50%; background:linear-gradient(145deg,#fce8e8,#fdd5d5); display:flex; align-items:center; justify-content:center; box-shadow:0 0 0 10px rgba(252,232,232,0.5),0 12px 36px rgba(217,123,138,0.3); animation:breathe 2.5s ease-in-out infinite; margin-bottom:14px; }
.sp-logo span { font-size:2.8rem; animation:rock 2.5s ease-in-out infinite; }
@keyframes breathe{0%,100%{transform:scale(1)}50%{transform:scale(1.07)}}
@keyframes rock{0%,100%{transform:rotate(-5deg)}50%{transform:rotate(5deg)}}
.sp-name { font-size:1.8rem; font-weight:900; color:#3d2828; letter-spacing:-0.5px; opacity:0; animation:slideUp 0.7s cubic-bezier(.2,.8,.4,1) 0.3s forwards; }
.sp-name em { color:#d97b8a; font-style:italic; }
.sp-tag { font-size:0.76rem; font-weight:700; color:#c9a0a8; margin-top:4px; opacity:0; animation:slideUp 0.7s cubic-bezier(.2,.8,.4,1) 0.55s forwards; }
.sp-bar-wrap { width:100px; height:4px; background:rgba(217,123,138,0.12); border-radius:2px; margin-top:28px; overflow:hidden; opacity:0; animation:fadeIn 0.4s ease 0.7s forwards; }
.sp-bar { height:100%; width:0%; border-radius:2px; background:linear-gradient(90deg,#f0c0c8,#d97b8a,#c060a0); animation:grow 2.2s cubic-bezier(.4,0,.2,1) 0.8s forwards; }
@keyframes slideUp{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes grow{from{width:0%}to{width:100%}}
.splash.hiding { animation:splashOut 0.6s ease-in forwards; }
@keyframes splashOut{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1.06)}}

/* â”€â”€ LET'S GO SCREEN â”€â”€ */
.ob-screen { min-height:700px; background:linear-gradient(170deg,#fff8f5,#fef0f5); display:flex; flex-direction:column; align-items:center; padding:20px 24px 100px; text-align:center; }
.ob-big { font-size:3.8rem; margin-bottom:12px; }
.ob-h { font-size:1.6rem; font-weight:900; color:#3d2828; line-height:1.2; margin-bottom:8px; }
.ob-h em { color:#d97b8a; font-style:italic; }
.ob-p { font-size:0.82rem; color:#b09090; font-weight:600; line-height:1.65; margin-bottom:22px; }
.lang-row { display:grid; grid-template-columns:1fr 1fr; gap:8px; width:100%; margin-bottom:18px; }
.lang-btn { padding:11px 12px; background:white; border:1.5px solid #fce8e4; border-radius:14px; font-size:0.78rem; font-weight:800; color:#b09090; cursor:pointer; transition:all 0.2s; display:flex; align-items:center; gap:8px; }
.lang-btn:hover,.lang-btn.on { border-color:#d97b8a; color:#d97b8a; background:#fff5f6; }
.ob-toggle { display:flex; justify-content:space-between; align-items:center; width:100%; background:white; border-radius:14px; padding:12px 14px; margin-bottom:8px; border:1.5px solid #fce8e4; }
.ob-tl { font-size:0.8rem; font-weight:800; color:#5a3838; text-align:left; }
.ob-ts { font-size:0.65rem; color:#d0b0b8; font-weight:600; margin-top:2px; }
.toggle { width:42px; height:24px; border-radius:12px; background:#fce8e4; cursor:pointer; position:relative; transition:background 0.25s; flex-shrink:0; }
.toggle.on { background:linear-gradient(135deg,#f09090,#d97b8a); }
.toggle::after { content:''; position:absolute; top:3px; left:3px; width:18px; height:18px; border-radius:50%; background:white; transition:transform 0.25s; box-shadow:0 1px 4px rgba(0,0,0,0.12); }
.toggle.on::after { transform:translateX(18px); }
.promise-box { background:rgba(168,220,168,0.15); border:1px solid rgba(168,197,160,0.3); border-radius:14px; padding:12px 14px; width:100%; margin:12px 0; text-align:left; }
.promise-box strong { font-size:0.75rem; font-weight:800; color:#5a8e6a; display:block; margin-bottom:3px; }
.promise-box span { font-size:0.7rem; color:#8aae8a; font-weight:600; line-height:1.5; }
.ob-btn { width:100%; padding:15px; background:linear-gradient(135deg,#f09090,#d97b8a); color:white; border:none; border-radius:18px; font-size:0.92rem; font-weight:900; cursor:pointer; font-family:'Nunito',sans-serif; box-shadow:0 6px 20px rgba(217,123,138,0.35); transition:all 0.2s; margin-top:6px; }
.ob-btn:hover { transform:translateY(-2px); }

/* â”€â”€ MODE SELECTION â”€â”€ */
.mode-screen { min-height:700px; background:linear-gradient(170deg,#fff8f5,#fef0f5); display:flex; flex-direction:column; align-items:center; padding:20px 22px 100px; text-align:center; }
.mode-h { font-size:1.5rem; font-weight:900; color:#3d2828; line-height:1.25; margin-bottom:6px; }
.mode-h em { color:#d97b8a; font-style:italic; }
.mode-p { font-size:0.78rem; color:#b09090; font-weight:600; line-height:1.6; margin-bottom:24px; }
.mode-cards { width:100%; display:flex; flex-direction:column; gap:12px; }
.mcard { background:white; border:2px solid #fce8e4; border-radius:22px; padding:18px; cursor:pointer; transition:all 0.22s; text-align:left; display:flex; align-items:center; gap:14px; position:relative; overflow:hidden; }
.mcard::before { content:''; position:absolute; inset:0; opacity:0; transition:opacity 0.22s; border-radius:20px; }
.mcard-period::before { background:linear-gradient(135deg,#fff5f6,#fce8f0); }
.mcard-preg::before   { background:linear-gradient(135deg,#f0f4ff,#e8eeff); }
.mcard-ovul::before   { background:linear-gradient(135deg,#f0faf4,#e8faf0); }
.mcard:hover::before  { opacity:1; }
.mcard-period:hover { border-color:#f0b0b8; transform:translateY(-2px); box-shadow:0 8px 24px rgba(217,123,138,0.14); }
.mcard-preg:hover   { border-color:#a0b8e0; transform:translateY(-2px); box-shadow:0 8px 24px rgba(74,112,176,0.14); }
.mcard-ovul:hover   { border-color:#a0d0b0; transform:translateY(-2px); box-shadow:0 8px 24px rgba(90,142,106,0.14); }
.mc-em { font-size:2.4rem; flex-shrink:0; position:relative; z-index:1; }
.mc-txt { position:relative; z-index:1; flex:1; }
.mc-title { font-size:1rem; font-weight:900; color:#3d2828; margin-bottom:3px; }
.mc-desc  { font-size:0.7rem; font-weight:600; color:#b09090; line-height:1.5; }
.mc-arr   { font-size:1.1rem; color:#d0b0b8; position:relative; z-index:1; transition:transform 0.2s; }
.mcard:hover .mc-arr { transform:translateX(4px); color:#d97b8a; }
.mcard-preg:hover  .mc-arr { color:#4a70b0; }
.mcard-ovul:hover  .mc-arr { color:#5a8e6a; }

/* â”€â”€ JOURNEY WIZARD â”€â”€ */
.jrn-screen { min-height:700px; background:linear-gradient(170deg,#fff8f5,#fef0f5); }
.jrn-header { padding:14px 20px 10px; display:flex; align-items:center; gap:12px; }
.jrn-back { width:36px; height:36px; border-radius:50%; background:white; border:1.5px solid #fce8e4; display:flex; align-items:center; justify-content:center; font-size:0.9rem; cursor:pointer; flex-shrink:0; transition:all 0.2s; }
.jrn-back:hover { border-color:#d97b8a; }
.jrn-prog-wrap { flex:1; }
.jrn-prog-bar-bg { height:5px; background:#fce8e4; border-radius:3px; overflow:hidden; margin-bottom:4px; }
.jrn-prog-bar { height:100%; border-radius:3px; background:linear-gradient(90deg,#f09090,#d97b8a); transition:width 0.4s cubic-bezier(.4,0,.2,1); }
.jrn-prog-bar.bl { background:linear-gradient(90deg,#7aa0e0,#4a70b0); }
.jrn-prog-bar.gr { background:linear-gradient(90deg,#78c890,#5a8e6a); }
.jrn-step-txt { font-size:0.58rem; font-weight:800; color:#d0b0b8; text-transform:uppercase; letter-spacing:0.4px; }
.jrn-body { padding:4px 22px 20px; overflow-y:auto; max-height:590px; }
.jrn-icon { font-size:2.8rem; margin-bottom:8px; }
.jrn-q { font-size:1.28rem; font-weight:900; color:#3d2828; line-height:1.3; margin-bottom:5px; }
.jrn-q .cl-bl { color:#4a70b0; } .jrn-q .cl-gr { color:#5a8e6a; } .jrn-q em { color:#d97b8a; font-style:italic; }
.jrn-sub { font-size:0.75rem; color:#b09090; font-weight:600; line-height:1.55; margin-bottom:18px; }
/* chips in journey */
.jchips { display:flex; flex-wrap:wrap; gap:8px; margin-bottom:14px; }
.jchip { padding:9px 14px; background:white; border:1.5px solid #fce8e4; border-radius:22px; font-size:0.76rem; font-weight:700; color:#b09090; cursor:pointer; transition:all 0.18s; display:flex; align-items:center; gap:6px; }
.jchip:hover { border-color:#f0b0b8; color:#d97b8a; }
.jchip.on     { border-color:#d97b8a; background:#fff5f6; color:#d97b8a; }
.jchip.on-bl  { border-color:#4a70b0; background:#f0f4ff; color:#4a70b0; }
.jchip.on-gr  { border-color:#5a8e6a; background:#f0faf4; color:#5a8e6a; }
.jchip-big    { padding:13px 16px; border-radius:16px; width:100%; justify-content:flex-start; }
/* stepper */
.jstepper { background:white; border:2px solid #fce8e4; border-radius:18px; padding:14px 18px; display:flex; align-items:center; justify-content:space-between; margin-bottom:12px; }
.jst-left .jst-lbl { font-size:0.7rem; font-weight:700; color:#b09090; }
.jst-val { font-size:1.7rem; font-weight:900; color:#d97b8a; margin-top:2px; }
.jst-val.bl { color:#4a70b0; } .jst-val.gr { color:#5a8e6a; }
.jst-btns { display:flex; gap:10px; }
.jstb { width:38px; height:38px; border-radius:12px; border:none; font-size:1.3rem; font-weight:900; cursor:pointer; transition:all 0.15s; display:flex; align-items:center; justify-content:center; }
.jstb.pk { background:#fce8e4; color:#d97b8a; } .jstb.pk:hover { background:#d97b8a; color:white; }
.jstb.bl { background:#dde8f8; color:#4a70b0; } .jstb.bl:hover { background:#4a70b0; color:white; }
.jstb.gr { background:#d0e8d8; color:#5a8e6a; } .jstb.gr:hover { background:#5a8e6a; color:white; }
/* date input */
.jdate { width:100%; padding:13px 16px; background:white; border:2px solid #fce8e4; border-radius:15px; font-size:0.9rem; font-family:'Nunito',sans-serif; font-weight:700; color:#5a3838; outline:none; transition:border-color 0.2s; margin-bottom:10px; }
.jdate:focus { border-color:#d97b8a; }
.jdate.bl:focus { border-color:#4a70b0; }
.jdate.gr:focus { border-color:#5a8e6a; }
.skip-link { font-size:0.72rem; color:#d0b0b8; font-weight:700; cursor:pointer; margin-bottom:14px; display:inline-block; text-decoration:underline; text-underline-offset:3px; }
.skip-link:hover { color:#b09090; }
/* journey action btn */
.jrn-btn { width:100%; padding:15px; background:linear-gradient(135deg,#f09090,#d97b8a); color:white; border:none; border-radius:18px; font-size:0.92rem; font-weight:900; cursor:pointer; font-family:'Nunito',sans-serif; box-shadow:0 6px 20px rgba(217,123,138,0.35); transition:all 0.2s; margin-top:6px; }
.jrn-btn:hover { transform:translateY(-2px); }
.jrn-btn.bl { background:linear-gradient(135deg,#7aa0e0,#4a70b0); box-shadow:0 6px 20px rgba(74,112,176,0.3); }
.jrn-btn.gr { background:linear-gradient(135deg,#78c890,#5a8e6a); box-shadow:0 6px 20px rgba(90,142,106,0.3); }
/* warning */
.jrn-warn { background:rgba(255,215,60,0.1); border:1.5px solid rgba(220,180,40,0.22); border-radius:14px; padding:11px 14px; margin-bottom:14px; font-size:0.72rem; font-weight:700; color:#a08020; line-height:1.55; }

/* â”€â”€ HOME â”€â”€ */
.greeting { font-size:0.8rem; color:#d0a0a8; font-weight:700; margin-bottom:2px; }
.name { font-size:1.4rem; font-weight:900; color:#3d2828; margin-bottom:18px; }
.circle-wrap { display:flex; justify-content:center; margin-bottom:20px; }
.cycle-circle { width:170px; height:170px; border-radius:50%; background:linear-gradient(145deg,#fce8e8,#fdd5d5); display:flex; flex-direction:column; align-items:center; justify-content:center; box-shadow:0 8px 30px rgba(217,123,138,0.2),0 0 0 10px rgba(252,232,232,0.5); position:relative; }
.cycle-circle::before { content:''; position:absolute; inset:-8px; border-radius:50%; border:2px dashed rgba(217,123,138,0.2); }
.cycle-circle.bl { background:linear-gradient(145deg,#dde8f8,#c8d8f4); box-shadow:0 8px 30px rgba(74,112,176,0.2),0 0 0 10px rgba(200,216,244,0.4); }
.cycle-circle.bl::before { border-color:rgba(74,112,176,0.2); }
.cycle-circle.gr { background:linear-gradient(145deg,#d4eedd,#bfdfcc); box-shadow:0 8px 30px rgba(90,142,106,0.2),0 0 0 10px rgba(190,230,205,0.4); }
.cycle-circle.gr::before { border-color:rgba(90,142,106,0.2); }
.day-num { font-size:3.2rem; font-weight:900; color:#d97b8a; line-height:1; }
.day-num.bl { color:#4a70b0; } .day-num.gr { color:#5a8e6a; }
.day-label { font-size:0.72rem; font-weight:700; color:#e0a0a8; margin-top:2px; }
.day-label.bl { color:#90b0d0; } .day-label.gr { color:#80b090; }
.phase-label { font-size:0.65rem; font-weight:800; color:white; background:#d97b8a; padding:3px 10px; border-radius:20px; margin-top:6px; }
.phase-label.bl { background:#4a70b0; }
.phase-label.gr { background:#5a8e6a; }
.pills-row { display:flex; gap:8px; justify-content:center; margin-bottom:22px; }
.pill { flex:1; background:white; border-radius:16px; padding:12px 8px; text-align:center; box-shadow:0 2px 10px rgba(200,100,100,0.08); border:1.5px solid #fce8e4; }
.pill-val { font-size:1.3rem; font-weight:900; color:#d97b8a; }
.pill-lbl { font-size:0.6rem; font-weight:700; color:#d0a8b0; margin-top:3px; text-transform:uppercase; letter-spacing:0.3px; }
.cal-title { font-size:0.82rem; font-weight:800; color:#3d2828; margin-bottom:10px; }
.cal { display:grid; grid-template-columns:repeat(7,1fr); gap:4px; }
.ch { font-size:0.58rem; text-align:center; color:#d0a8b0; font-weight:800; text-transform:uppercase; padding:2px 0; }
.cd { aspect-ratio:1; display:flex; align-items:center; justify-content:center; font-size:0.7rem; font-weight:700; color:#c0a0a8; border-radius:50%; cursor:pointer; transition:all 0.15s; }
.cd:hover{background:#fce8e4} .cd.p{background:rgba(252,168,168,0.3);color:#d97b8a} .cd.f{background:rgba(168,220,168,0.25);color:#6a9e6a} .cd.t{background:#d97b8a;color:white;box-shadow:0 3px 10px rgba(217,123,138,0.3)} .cd.e{cursor:default}
.next-banner { background:linear-gradient(135deg,#fff0f2,#fce8f0); border:1.5px solid #fcd0d8; border-radius:18px; padding:14px 16px; display:flex; justify-content:space-between; align-items:center; margin-top:16px; }
.next-banner.bl { background:linear-gradient(135deg,#f0f4ff,#e8eeff); border-color:#c0d0f0; }
.next-banner.gr { background:linear-gradient(135deg,#f0faf4,#e8f5ee); border-color:#b0d8c0; }
.nb-lbl { font-size:0.65rem; font-weight:800; color:#d0a0a8; text-transform:uppercase; letter-spacing:0.4px; }
.nb-lbl.bl { color:#90b0d8; } .nb-lbl.gr { color:#80b09a; }
.nb-val { font-size:1.1rem; font-weight:900; color:#3d2828; margin-top:2px; }
.nb-sub { font-size:0.68rem; color:#d0a0b0; font-weight:700; margin-top:1px; }
.nb-ring { position:relative; width:50px; height:50px; }
.nb-ring svg { transform:rotate(-90deg); }
.nb-pct { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); font-size:0.65rem; font-weight:900; color:#d97b8a; }
.nb-pct.bl { color:#4a70b0; } .nb-pct.gr { color:#5a8e6a; }
/* switch mode card */
.switch-mode-card { background:white; border:1.5px solid #fce8e4; border-radius:18px; padding:14px 16px; margin-top:14px; }
.sm-title { font-size:0.7rem; font-weight:900; color:#c0a0a8; text-transform:uppercase; letter-spacing:0.5px; margin-bottom:10px; }
.sm-btn { width:100%; padding:11px 14px; border:1.5px solid #fce8e4; background:#fff8f5; border-radius:14px; font-size:0.78rem; font-weight:800; color:#b09090; cursor:pointer; font-family:'Nunito',sans-serif; transition:all 0.2s; display:flex; align-items:center; justify-content:space-between; margin-bottom:7px; }
.sm-btn:last-child { margin-bottom:0; }
.sm-btn:hover { border-color:#d97b8a; color:#d97b8a; background:#fff5f6; }
.sm-btn.urgent { border-color:rgba(217,123,138,0.35); background:rgba(255,245,246,0.8); }
.sm-btn.urgent:hover { border-color:#d97b8a; }
/* pregnancy home extras */
.baby-card { background:linear-gradient(135deg,#f0f4ff,#e8eeff); border:1.5px solid #c8d8f4; border-radius:18px; padding:14px 16px; margin-bottom:14px; }
.bc-week { font-size:0.65rem; font-weight:800; color:#7090c0; text-transform:uppercase; letter-spacing:0.5px; margin-bottom:4px; }
.bc-title { font-size:1rem; font-weight:900; color:#3d2828; margin-bottom:3px; }
.bc-sub { font-size:0.73rem; color:#7090b0; font-weight:600; line-height:1.5; }
.bc-size { font-size:2.2rem; margin-bottom:4px; }
/* ovulation home extras */
.fertile-bar-wrap { background:white; border:1.5px solid #d0e8d8; border-radius:18px; padding:14px 16px; margin-bottom:14px; }
.fb-title { font-size:0.72rem; font-weight:900; color:#5a8e6a; margin-bottom:10px; }
.fb-track { height:10px; background:#e8f5ee; border-radius:5px; overflow:hidden; margin-bottom:6px; }
.fb-fill { height:100%; border-radius:5px; background:linear-gradient(90deg,#78c890,#5a8e6a); }
.fb-labels { display:flex; justify-content:space-between; font-size:0.6rem; font-weight:800; color:#a0c8b0; }

/* â”€â”€ LOG â”€â”€ */
.log-date { font-size:0.72rem; font-weight:800; color:#d0a0a8; text-transform:uppercase; letter-spacing:0.5px; margin-bottom:16px; }
.flow-row { display:flex; gap:10px; justify-content:space-between; margin-bottom:4px; }
.flow-btn { flex:1; padding:14px 4px; background:white; border-radius:16px; text-align:center; cursor:pointer; border:2px solid #fce8e4; transition:all 0.2s; }
.flow-btn:hover { border-color:#f0b0b8; transform:translateY(-2px); }
.flow-btn.on { border-color:#d97b8a; background:linear-gradient(135deg,#fff5f6,white); box-shadow:0 4px 14px rgba(217,123,138,0.18); }
.flow-icon { font-size:1.5rem; } .flow-lbl { font-size:0.6rem; font-weight:800; color:#d0a8b0; margin-top:4px; text-transform:uppercase; }
.flow-btn.on .flow-lbl { color:#d97b8a; }
.mood-row { display:flex; gap:8px; justify-content:space-between; }
.mood-btn { flex:1; padding:12px 4px; background:white; border-radius:14px; text-align:center; cursor:pointer; border:2px solid #fce8e4; transition:all 0.2s; font-size:1.4rem; }
.mood-btn:hover { transform:scale(1.08); }
.mood-btn.on { border-color:#a8d0b8; background:#f0faf4; }
.chips { display:flex; flex-wrap:wrap; gap:7px; }
.chip { padding:8px 14px; background:white; border:1.5px solid #fce8e4; border-radius:20px; font-size:0.72rem; font-weight:700; color:#c0a0a8; cursor:pointer; transition:all 0.15s; }
.chip:hover { border-color:#f0b0c0; color:#d97b8a; }
.chip.on { border-color:#c8b0e0; background:#f5f0fc; color:#9870c0; }
.note { width:100%; background:white; border:1.5px solid #fce8e4; border-radius:16px; padding:12px 14px; font-size:0.8rem; font-family:'Nunito',sans-serif; color:#5a3838; resize:none; outline:none; min-height:68px; transition:border-color 0.2s; font-weight:600; }
.note:focus { border-color:#f0b0b8; }
.note::placeholder { color:#ddbec0; }
/* log input for numbers */
.log-stepper-row { display:flex; gap:10px; margin-bottom:4px; }
.log-step { flex:1; background:white; border:1.5px solid #fce8e4; border-radius:14px; padding:11px 12px; }
.ls-lbl { font-size:0.62rem; font-weight:800; color:#d0b0b8; margin-bottom:6px; }
.ls-ctrl { display:flex; justify-content:space-between; align-items:center; }
.ls-val { font-size:1.25rem; font-weight:900; color:#d97b8a; }
.ls-val.bl { color:#4a70b0; } .ls-val.gr { color:#5a8e6a; }
.lsb { width:26px; height:26px; border-radius:8px; border:none; font-size:1rem; font-weight:900; cursor:pointer; transition:all 0.15s; display:flex; align-items:center; justify-content:center; }
.lsb.pk { background:#fce8e4; color:#d97b8a; } .lsb.pk:hover { background:#d97b8a; color:white; }
.lsb.bl { background:#dde8f8; color:#4a70b0; } .lsb.bl:hover { background:#4a70b0; color:white; }
.lsb.gr { background:#d0e8d8; color:#5a8e6a; } .lsb.gr:hover { background:#5a8e6a; color:white; }
/* kick counter */
.kick-wrap { background:linear-gradient(135deg,#f0f4ff,#e8eeff); border:1.5px solid #c0d0f0; border-radius:20px; padding:20px; text-align:center; margin-bottom:14px; }
.kick-label { font-size:0.7rem; font-weight:800; color:#7090c0; text-transform:uppercase; letter-spacing:0.5px; margin-bottom:8px; }
.kick-num { font-size:3.5rem; font-weight:900; color:#4a70b0; line-height:1; margin-bottom:12px; transition:transform 0.15s; }
.kick-btn { width:70px; height:70px; border-radius:50%; border:none; background:linear-gradient(135deg,#7aa0e0,#4a70b0); color:white; font-size:2rem; cursor:pointer; box-shadow:0 6px 20px rgba(74,112,176,0.35); transition:all 0.15s; display:flex; align-items:center; justify-content:center; margin:0 auto; }
.kick-btn:active { transform:scale(0.9); }
/* BBT input */
.bbt-input-wrap { background:white; border:2px solid #d0e8d8; border-radius:16px; padding:14px; margin-bottom:12px; }
.bbt-lbl { font-size:0.68rem; font-weight:800; color:#80b090; text-transform:uppercase; margin-bottom:8px; }
.bbt-inp { width:100%; font-size:2rem; font-weight:900; color:#5a8e6a; border:none; outline:none; font-family:'Nunito',sans-serif; background:transparent; text-align:center; }
.bbt-unit { font-size:0.7rem; color:#a0c0b0; font-weight:700; text-align:center; margin-top:2px; }
/* mucus chips variant */
.chip.on-gr { border-color:#a0d0b0; background:#f0faf4; color:#5a8e6a; }
.chip.on-bl { border-color:#a0b8e0; background:#f0f4ff; color:#4a70b0; }

/* â”€â”€ INSIGHTS â”€â”€ */
.big-insight { background:linear-gradient(135deg,#fce8e8,#fce8f8); border-radius:22px; padding:18px; margin-bottom:16px; text-align:center; border:1.5px solid #fcd0d8; }
.big-insight.bl { background:linear-gradient(135deg,#e8eeff,#dde8f8); border-color:#b8c8f0; }
.big-insight.gr { background:linear-gradient(135deg,#e8f5ee,#d8eee0); border-color:#a8d0b8; }
.bi-emoji { font-size:2.5rem; margin-bottom:6px; }
.bi-title { font-size:1rem; font-weight:900; color:#3d2828; margin-bottom:4px; }
.bi-sub { font-size:0.75rem; color:#c0a0a8; font-weight:600; line-height:1.5; }
.bi-sub.bl { color:#7090b0; } .bi-sub.gr { color:#6a9a7a; }
.insight-card { background:white; border-radius:18px; padding:15px 16px; margin-bottom:10px; border:1.5px solid #fce8e4; }
.insight-card.bl { border-color:#dde8f8; } .insight-card.gr { border-color:#d0e8d8; }
.ic-head { font-size:0.78rem; font-weight:900; color:#3d2828; margin-bottom:10px; }
.bar-row { display:flex; align-items:center; gap:10px; margin-bottom:8px; }
.bar-row:last-child { margin-bottom:0; }
.bar-name { font-size:0.72rem; font-weight:700; color:#c0a0a8; min-width:68px; }
.bar-track { flex:1; height:8px; background:#fce8e4; border-radius:4px; overflow:hidden; }
.bar-track.bl { background:#dde8f8; } .bar-track.gr { background:#d0e8d8; }
.bar-fill { height:100%; border-radius:4px; }
.bar-num { font-size:0.7rem; font-weight:800; color:#d97b8a; min-width:28px; text-align:right; }
.mini-chart { display:flex; align-items:flex-end; gap:6px; height:70px; margin-bottom:6px; }
.mc-bar { flex:1; border-radius:6px 6px 0 0; background:linear-gradient(0deg,#f09090,#fdd0d0); cursor:pointer; transition:filter 0.2s; }
.mc-bar:hover { filter:brightness(0.9); }
.mc-bar.hi { background:linear-gradient(0deg,#d97b8a,#f0a0b0); }
.mc-bar.bl { background:linear-gradient(0deg,#7aa0e0,#c8d8f4); }
.mc-bar.bl.hi { background:linear-gradient(0deg,#4a70b0,#8ab0e0); }
.mc-bar.gr { background:linear-gradient(0deg,#78c890,#c0e8d0); }
.mc-bar.gr.hi { background:linear-gradient(0deg,#5a8e6a,#90c8a0); }
.mc-labels { display:flex; gap:6px; }
.mc-lbl { flex:1; text-align:center; font-size:0.58rem; font-weight:800; color:#d0b0b8; text-transform:uppercase; }
.upcoming-row { display:flex; justify-content:space-between; align-items:center; padding:11px 13px; border-radius:13px; margin-bottom:7px; font-size:0.78rem; font-weight:700; }
.upcoming-row:last-child { margin-bottom:0; }
.ur-period  { background:rgba(252,168,168,0.15); border:1px solid rgba(252,168,168,0.3); color:#c87878; }
.ur-fertile { background:rgba(168,220,168,0.15); border:1px solid rgba(168,220,168,0.3); color:#6a9e6a; }
.ur-ov      { background:rgba(197,184,216,0.15); border:1px solid rgba(197,184,216,0.3); color:#9870c0; }
.ur-appt    { background:rgba(140,168,220,0.15); border:1px solid rgba(140,168,220,0.3); color:#4a70b0; }
.ur-kick    { background:rgba(100,160,220,0.12); border:1px solid rgba(100,160,220,0.28); color:#4a70b0; }
/* BBT chart */
.bbt-chart-wrap { display:flex; align-items:flex-end; gap:3px; height:60px; margin-bottom:8px; position:relative; }
.bbt-bar { flex:1; border-radius:3px 3px 0 0; background:linear-gradient(0deg,#78c890,#c0e8d0); min-height:8px; transition:filter 0.2s; }
.bbt-bar.peak { background:linear-gradient(0deg,#5a8e6a,#90c8a0); }
.bbt-bar.pre  { background:linear-gradient(0deg,#d0e8d8,#e8f5ee); }
.bbt-ov-line  { position:absolute; top:0; bottom:0; width:1.5px; background:rgba(217,123,138,0.5); border-radius:2px; }
.bbt-chart-lbl { display:flex; justify-content:space-between; font-size:0.58rem; font-weight:800; color:#a0c0b0; }

/* â”€â”€ LEARN â”€â”€ */
.search-box { width:100%; padding:11px 16px; background:white; border:1.5px solid #fce8e4; border-radius:20px; font-size:0.8rem; font-family:'Nunito',sans-serif; outline:none; color:#5a3838; font-weight:600; margin-bottom:14px; transition:border-color 0.2s; }
.search-box:focus { border-color:#f0b0b8; }
.search-box::placeholder { color:#ddbec0; }
.cat-scroll { display:flex; gap:7px; overflow-x:auto; margin-bottom:14px; scrollbar-width:none; }
.cat-scroll::-webkit-scrollbar { display:none; }
.cat-btn { padding:7px 15px; background:white; border-radius:20px; font-size:0.72rem; font-weight:800; cursor:pointer; border:1.5px solid #fce8e4; transition:all 0.2s; white-space:nowrap; color:#c0a0a8; flex-shrink:0; }
.cat-btn:hover { border-color:#f0b0b8; color:#d97b8a; }
.cat-btn.on { border-color:#d97b8a; background:linear-gradient(135deg,#fff5f6,white); color:#d97b8a; }
.cat-btn.on-bl { border-color:#4a70b0; background:linear-gradient(135deg,#f0f4ff,white); color:#4a70b0; }
.cat-btn.on-gr { border-color:#5a8e6a; background:linear-gradient(135deg,#f0faf4,white); color:#5a8e6a; }
.article { background:white; border-radius:18px; padding:14px 15px; margin-bottom:10px; border:1.5px solid #fce8e4; display:flex; gap:12px; align-items:center; cursor:pointer; transition:all 0.2s; }
.article:hover { border-color:#f0b0b8; transform:translateX(3px); }
.art-icon { font-size:1.8rem; flex-shrink:0; }
.art-tag { display:inline-block; padding:2px 9px; border-radius:10px; font-size:0.6rem; font-weight:800; margin-bottom:4px; }
.tag-g { background:rgba(168,220,168,0.25); color:#5a8e5a; }
.tag-p { background:rgba(252,168,168,0.2); color:#c87878; }
.tag-m { background:rgba(197,184,216,0.25); color:#8870b0; }
.tag-h { background:rgba(255,220,140,0.3); color:#a07820; }
.tag-d { background:rgba(140,200,230,0.25); color:#3a80a0; }
.tag-b { background:rgba(140,168,220,0.2); color:#4a70b0; }
.tag-n { background:rgba(168,220,168,0.2); color:#5a8e6a; }
.art-title { font-size:0.8rem; font-weight:800; color:#3d2828; line-height:1.35; }
.art-meta  { font-size:0.65rem; color:#d0b0b8; font-weight:700; margin-top:3px; }

/* â”€â”€ PRIVACY â”€â”€ */
.trust-box { background:linear-gradient(135deg,#f0faf4,#f5f0fc); border:1.5px solid rgba(168,197,160,0.3); border-radius:22px; padding:22px 18px; text-align:center; margin-bottom:16px; }
.trust-emoji { font-size:2.8rem; margin-bottom:8px; }
.trust-title { font-size:1rem; font-weight:900; color:#3d2828; margin-bottom:6px; }
.trust-text { font-size:0.75rem; color:#8a7080; line-height:1.6; font-weight:600; }
.trust-badges { display:flex; flex-wrap:wrap; justify-content:center; gap:6px; margin-top:12px; }
.tbadge { padding:5px 11px; background:white; border-radius:20px; font-size:0.62rem; font-weight:800; color:#a08090; border:1px solid #ece0e8; }
.priv-card { background:white; border-radius:18px; padding:14px 16px; margin-bottom:10px; border:1.5px solid #fce8e4; }
.priv-head { font-size:0.8rem; font-weight:900; color:#3d2828; margin-bottom:10px; }
.toggle-row { display:flex; justify-content:space-between; align-items:center; padding:10px 0; border-bottom:1px solid #fce8e4; }
.toggle-row:last-child { border-bottom:none; padding-bottom:0; }
.trow-label { font-size:0.78rem; font-weight:700; color:#5a3838; }
.trow-sub   { font-size:0.65rem; color:#d0b0b8; margin-top:2px; font-weight:600; }
.out-btn { width:100%; padding:12px; background:white; border:1.5px solid #f0b0b8; color:#d97b8a; border-radius:16px; font-size:0.82rem; font-weight:800; cursor:pointer; font-family:'Nunito',sans-serif; transition:all 0.2s; margin-top:7px; }
.out-btn:hover { background:#fff5f6; }
.del-btn { width:100%; padding:12px; background:rgba(220,80,80,0.06); border:1.5px solid rgba(220,80,80,0.2); color:#c05050; border-radius:16px; font-size:0.82rem; font-weight:800; cursor:pointer; font-family:'Nunito',sans-serif; transition:all 0.2s; margin-top:7px; }
</style>
</head>
<body>
<div class="phone">
  <div class="notch"><div class="notch-inner"></div></div>
  <div class="status"><span>9:41</span><span>ğŸ”‹ ğŸ“¶</span></div>

  <!-- â•â• SPLASH â•â• -->
  <div id="s-splash" class="splash">
    <div class="sp-petals">
      <div class="sp-p" style="left:6%;font-size:1.3rem;animation-duration:4.4s;animation-delay:0.2s">ğŸŒ¸</div>
      <div class="sp-p" style="left:20%;font-size:1rem;animation-duration:5.2s;animation-delay:1s">âœ¿</div>
      <div class="sp-p" style="left:35%;font-size:1.6rem;animation-duration:3.9s;animation-delay:0.4s">ğŸŒº</div>
      <div class="sp-p" style="left:52%;font-size:0.9rem;animation-duration:4.8s;animation-delay:1.8s">ğŸŒ¸</div>
      <div class="sp-p" style="left:66%;font-size:1.2rem;animation-duration:5.5s;animation-delay:0.7s">âœ¾</div>
      <div class="sp-p" style="left:80%;font-size:1.5rem;animation-duration:4s;animation-delay:2.2s">ğŸŒ¸</div>
      <div class="sp-p" style="left:90%;font-size:1rem;animation-duration:4.6s;animation-delay:0.9s">âœ¿</div>
    </div>
    <div class="sp-rings">
      <div class="sp-ring"></div><div class="sp-ring"></div><div class="sp-ring"></div>
    </div>
    <div class="sp-logo"><span>ğŸŒ¸</span></div>
    <div class="sp-name">Me<em>Trustual</em></div>
    <div class="sp-tag">your cycle, your story ğŸ’•</div>
    <div class="sp-bar-wrap"><div class="sp-bar"></div></div>
  </div>

  <!-- â•â• LET'S GO â•â• -->
  <div id="s-ob" class="screen" style="padding:0">
    <div class="ob-screen">
      <div class="ob-big">ğŸŒ¸</div>
      <div class="ob-h">Hey there,<br><em>lovely!</em></div>
      <div class="ob-p">Your cycle. Your story. Your privacy.<br>Let's make it personal. ğŸŒ¿</div>
      <div class="lang-row">
        <div class="lang-btn on" onclick="selLang(this)">ğŸ‡¬ğŸ‡§ English</div>
        <div class="lang-btn" onclick="selLang(this)">ğŸ‡²ğŸ‡¾ Melayu</div>
        <div class="lang-btn" onclick="selLang(this)">ğŸ‡ªğŸ‡¸ EspaÃ±ol</div>
        <div class="lang-btn" onclick="selLang(this)">ğŸ‡®ğŸ‡³ à¤¹à¤¿à¤¨à¥à¤¦à¥€</div>
        <div class="lang-btn" onclick="selLang(this)">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</div>
        <div class="lang-btn" onclick="selLang(this)">ğŸŒ Moreâ€¦</div>
      </div>
      <div class="ob-toggle">
        <div><div class="ob-tl">ğŸ”’ Keep it private</div><div class="ob-ts">No account, stays on your phone</div></div>
        <div class="toggle on" onclick="this.classList.toggle('on')"></div>
      </div>
      <div class="ob-toggle">
        <div><div class="ob-tl">â˜ï¸ Backup my data</div><div class="ob-ts">Encrypted, only you can see it</div></div>
        <div class="toggle" onclick="this.classList.toggle('on')"></div>
      </div>
      <div class="promise-box">
        <strong>ğŸ›¡ï¸ Our promise to you</strong>
        <span>No ads. No selling your data. No judgement. Delete everything anytime.</span>
      </div>
      <button class="ob-btn" onclick="go('mode')">Let's go! ğŸŒ¸</button>
    </div>
  </div>

  <!-- â•â• MODE SELECTION â•â• -->
  <div id="s-mode" class="screen" style="padding:0">
    <div class="mode-screen">
      <div style="font-size:2.8rem;margin-bottom:10px">ğŸŒ¸</div>
      <div class="mode-h">What are you<br><em>tracking?</em></div>
      <div class="mode-p">Choose your journey â€” you can switch anytime<br>from your home screen. ğŸ’•</div>
      <div class="mode-cards">
        <div class="mcard mcard-period" onclick="selectMode('period')">
          <div class="mc-em">ğŸ©¸</div>
          <div class="mc-txt">
            <div class="mc-title">Track my Period</div>
            <div class="mc-desc">Predict your cycle, understand phases, log symptoms &amp; mood</div>
          </div>
          <div class="mc-arr">â†’</div>
        </div>
        <div class="mcard mcard-preg" onclick="selectMode('preg')">
          <div class="mc-em">ğŸ¤°</div>
          <div class="mc-txt">
            <div class="mc-title">Track my Pregnancy</div>
            <div class="mc-desc">Week-by-week progress, baby growth, kick counter &amp; appointments</div>
          </div>
          <div class="mc-arr">â†’</div>
        </div>
        <div class="mcard mcard-ovul" onclick="selectMode('ovul')">
          <div class="mc-em">ğŸŒ¿</div>
          <div class="mc-txt">
            <div class="mc-title">Track Ovulation</div>
            <div class="mc-desc">Find your fertile window, BBT tracking, TTC &amp; family planning</div>
          </div>
          <div class="mc-arr">â†’</div>
        </div>
      </div>
    </div>
  </div>

  <!-- â•â• JOURNEY WIZARD â•â• -->
  <div id="s-journey" class="screen" style="padding:0">
    <div class="jrn-screen">
      <div class="jrn-header">
        <div class="jrn-back" onclick="jrnBack()">â†</div>
        <div class="jrn-prog-wrap">
          <div class="jrn-prog-bar-bg"><div class="jrn-prog-bar" id="jrn-bar" style="width:20%"></div></div>
          <div class="jrn-step-txt" id="jrn-step-txt">Step 1 of 5</div>
        </div>
      </div>
      <div class="jrn-body" id="jrn-body"></div>
    </div>
  </div>

  <!-- â•â• HOME â•â• -->
  <div id="s-home" class="screen">
    <div class="scr-pad" id="home-content"></div>
  </div>

  <!-- â•â• LOG â•â• -->
  <div id="s-log" class="screen">
    <div class="scr-pad" id="log-content"></div>
  </div>

  <!-- â•â• INSIGHTS â•â• -->
  <div id="s-insights" class="screen">
    <div class="scr-pad" id="insights-content"></div>
  </div>

  <!-- â•â• LEARN â•â• -->
  <div id="s-learn" class="screen">
    <div class="scr-pad" id="learn-content"></div>
  </div>

  <!-- BOTTOM NAV (4 items) -->
  <div class="nav" id="main-nav" style="display:none">
    <div class="nav-item" id="ni-home"     onclick="go('home')"    ><span>ğŸ </span>Home</div>
    <div class="nav-item" id="ni-log"      onclick="go('log')"     ><span>ğŸŒ¸</span>Log</div>
    <div class="nav-item" id="ni-insights" onclick="go('insights')"><span>âœ¨</span>Insights</div>
    <div class="nav-item" id="ni-learn"    onclick="go('learn')"   ><span>ğŸ“–</span>Learn</div>
  </div>
</div>

<script>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   STATE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
let currentMode = 'period'; // period | preg | ovul
let jrnMode = 'period', jrnStep = 0, jrnData = {};
let kicks = 0;

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SPLASH â†’ LET'S GO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
window.addEventListener('DOMContentLoaded', () => {
  const sp = document.getElementById('s-splash');
  setTimeout(() => {
    sp.classList.add('hiding');
    sp.addEventListener('animationend', () => {
      sp.style.display = 'none';
      document.getElementById('s-ob').classList.add('active');
    }, { once:true });
  }, 3200);
});

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   NAVIGATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const ALL_SCREENS = ['ob','mode','journey','home','log','insights','learn'];
const APP_SCREENS  = ['home','log','insights','learn'];
const NAV_MAP = { home:'ni-home', log:'ni-log', insights:'ni-insights', learn:'ni-learn' };
const NAV_COLOR = {
  period: 'on',
  preg:   'on-bl',
  ovul:   'on-gr'
};

function go(name) {
  ALL_SCREENS.forEach(id => {
    const el = document.getElementById('s-'+id);
    if(el) el.classList.remove('active');
  });
  const t = document.getElementById('s-'+name);
  if(t) t.classList.add('active');

  const nav = document.getElementById('main-nav');
  const isApp = APP_SCREENS.includes(name);
  nav.style.display = isApp ? 'flex' : 'none';

  if(isApp) {
    document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('on','on-bl','on-gr'));
    const ni = document.getElementById(NAV_MAP[name]);
    if(ni) ni.classList.add(NAV_COLOR[currentMode]||'on');
    renderModeContent(name);
  }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MODE SELECTION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function selectMode(mode) {
  jrnMode = mode;
  jrnStep = 0;
  jrnData = {};
  kicks = 0;
  renderJourneyStep();
  go('journey');
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   JOURNEY WIZARD
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const JOURNEYS = {
  period: [
    { icon:'ğŸ©¸', col:'',
      q:'When did your <em>last period</em> start?',
      sub:'This helps us predict your next period and fertile window accurately.',
      type:'date', key:'lastPeriod', skip:'Not sure / this is my first time tracking' },
    { icon:'ğŸ“…', col:'',
      q:'How long is your cycle <em>usually?</em>',
      sub:'Day 1 of one period to Day 1 of the next. Most cycles are 21â€“35 days.',
      type:'stepper', key:'cycleLen', min:18, max:45, def:28, unit:'days', skip:'Not sure yet â€” we\'ll learn!' },
    { icon:'ğŸ—“ï¸', col:'',
      q:'How many days does your <em>period last?</em>',
      sub:'Include light spotting days. Most periods last 3â€“7 days.',
      type:'stepper', key:'periodLen', min:1, max:10, def:5, unit:'days' },
    { icon:'ğŸ’§', col:'',
      q:'How would you describe your <em>usual flow?</em>',
      sub:'Helps us give you better predictions and product recommendations.',
      type:'chips-single', key:'flow',
      opts:[{e:'ğŸ’§',l:'Light',v:'light'},{e:'ğŸŸ ',l:'Medium',v:'medium'},{e:'ğŸ”´',l:'Heavy',v:'heavy'},{e:'ğŸ”€',l:'Varies',v:'varies'}] },
    { icon:'ğŸŒ€', col:'',
      q:'Symptoms you <em>often get?</em>',
      sub:'Select all that apply â€” we\'ll personalise your care tips each phase.',
      type:'chips-multi', key:'symptoms',
      opts:[{e:'ğŸŒ€',l:'Cramps'},{e:'ğŸ¤•',l:'Headache'},{e:'ğŸ˜´',l:'Fatigue'},{e:'ğŸ¤¢',l:'Nausea'},{e:'ğŸŒŠ',l:'Bloating'},{e:'ğŸ’†',l:'Back Pain'},{e:'ğŸ«',l:'Cravings'},{e:'ğŸ˜¤',l:'Mood Swings'},{e:'ğŸŒ¡ï¸',l:'Breast Tenderness'},{e:'âœ¨',l:'None usually'}] }
  ],
  preg: [
    { icon:'ğŸ¤°', col:'bl',
      q:'<span class="cl-bl">Are you currently pregnant?</span>',
      sub:'This helps us set up the right tracker for you. No judgement either way.',
      type:'chips-big-single', key:'isPreg',
      opts:[{e:'âœ…',l:'Yes, I\'m pregnant!',v:'yes'},{e:'ğŸ¤”',l:'I think I might be',v:'maybe'},{e:'ğŸ”„',l:'Actually, I\'m not â€” switch tracker',v:'switch',special:true}],
      warn:'You can switch back to Period or Ovulation tracker anytime from your home screen.' },
    { icon:'ğŸ“…', col:'bl',
      q:'Do you know your <span class="cl-bl">due date?</span>',
      sub:'If yes, enter it. If not, enter your last period start date and we\'ll calculate.',
      type:'due-date', key:'dueDate' },
    { icon:'ğŸ‘¶', col:'bl',
      q:'Is this your <span class="cl-bl">first pregnancy?</span>',
      sub:'This personalises your week-by-week tips and what to expect.',
      type:'chips-big-single', key:'firstPreg',
      opts:[{e:'ğŸŒ±',l:'Yes â€” my first!',v:'first'},{e:'ğŸ‘§',l:'I have one child',v:'second'},{e:'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦',l:'Two or more children',v:'multiple'}] },
    { icon:'ğŸ©º', col:'bl',
      q:'Any conditions to <span class="cl-bl">track together?</span>',
      sub:'Optional â€” select any for extra personalised support and reminders.',
      type:'chips-multi', key:'conditions',
      opts:[{e:'ğŸ©º',l:'Gestational Diabetes'},{e:'ğŸ’“',l:'High Blood Pressure'},{e:'ğŸ¤¢',l:'Severe Morning Sickness'},{e:'ğŸ©¸',l:'Anaemia'},{e:'ğŸ§ ',l:'Prenatal Anxiety'},{e:'ğŸ˜´',l:'Sleep Issues'},{e:'âœ¨',l:'All good â€” none'}] },
    { icon:'ğŸ’™', col:'bl',
      q:'What support do you <span class="cl-bl">want from us?</span>',
      sub:'We\'ll send you the content that matters most. Adjust anytime.',
      type:'chips-multi', key:'support',
      opts:[{e:'ğŸ“‹',l:'Weekly baby updates'},{e:'ğŸ©º',l:'Appointment reminders'},{e:'ğŸ‘¶',l:'Kick counter alerts'},{e:'ğŸŒ¿',l:'Nutrition & wellness tips'},{e:'ğŸ§˜',l:'Mental health & mindfulness'},{e:'ğŸ“–',l:'Birth & newborn prep'}] }
  ],
  ovul: [
    { icon:'ğŸŒ¿', col:'gr',
      q:'What\'s your <span class="cl-gr">main goal?</span>',
      sub:'This shapes your insights, alerts, and what tools we highlight for you.',
      type:'chips-big-single', key:'goal',
      opts:[{e:'ğŸ‘¶',l:'Trying to conceive (TTC)',v:'ttc'},{e:'ğŸŒ¿',l:'Natural family planning',v:'nfp'},{e:'ğŸ”¬',l:'Understanding my body & cycle',v:'understand'}] },
    { icon:'ğŸ“…', col:'gr',
      q:'When did your <span class="cl-gr">last period start?</span>',
      sub:'We calculate your fertile window from this. Ovulation is usually ~14 days before your next period.',
      type:'date', key:'lastPeriod', skip:'Skip for now' },
    { icon:'ğŸ”', col:'gr',
      q:'How long is your cycle <span class="cl-gr">usually?</span>',
      sub:'Knowing this makes ovulation predictions much more accurate.',
      type:'stepper', key:'cycleLen', min:18, max:45, def:28, unit:'days', skip:'Not sure yet' },
    { icon:'ğŸŒ¡ï¸', col:'gr',
      q:'What do you currently <span class="cl-gr">track?</span>',
      sub:'Select all that apply â€” we\'ll guide you on using each method together.',
      type:'chips-multi', key:'methods',
      opts:[{e:'ğŸŒ¡ï¸',l:'BBT (Basal Body Temp)'},{e:'ğŸ’Š',l:'OPK / LH Test Strips'},{e:'ğŸ’§',l:'Cervical Mucus'},{e:'ğŸ“…',l:'Period dates only'},{e:'ğŸ©¸',l:'Mid-cycle spotting'},{e:'ğŸ†•',l:'Nothing yet â€” just starting!'}] },
    { icon:'ğŸ””', col:'gr',
      q:'How should we <span class="cl-gr">alert you?</span>',
      sub:'We only send what you choose. You can change this anytime.',
      type:'chips-multi', key:'alerts',
      opts:[{e:'ğŸŸ¢',l:'Fertile window opens'},{e:'ğŸ¯',l:'Peak ovulation day'},{e:'ğŸ“‰',l:'Fertile window closing'},{e:'ğŸ“…',l:'Period due reminder'},{e:'ğŸŒ¡ï¸',l:'BBT reminder each morning'},{e:'ğŸ’Š',l:'OPK test reminder'}] }
  ]
};

function renderJourneyStep() {
  const steps = JOURNEYS[jrnMode];
  const step  = steps[jrnStep];
  const total = steps.length;
  const pct   = Math.round(((jrnStep+1)/total)*100);
  const col   = step.col || '';

  document.getElementById('jrn-bar').style.width = pct+'%';
  document.getElementById('jrn-bar').className = 'jrn-prog-bar' + (col ? ' '+col : '');
  document.getElementById('jrn-step-txt').textContent = 'Step '+(jrnStep+1)+' of '+total;

  const isLast = jrnStep === total-1;
  const btnLbl = isLast ? 'Done! Let\'s go â†’' : 'Continue â†’';
  const btnCls = 'jrn-btn' + (col ? ' '+col : '');

  let html = `<div class="jrn-icon">${step.icon}</div>
<div class="jrn-q">${step.q}</div>
<div class="jrn-sub">${step.sub}</div>`;

  if(step.warn) html += `<div class="jrn-warn">ğŸ’¡ ${step.warn}</div>`;

  if(step.type === 'date') {
    html += `<input type="date" class="jdate ${col}" id="jrn-inp" value="${jrnData[step.key]||''}">`;
    if(step.skip) html += `<span class="skip-link" onclick="jrnNext(true)">${step.skip}</span>`;
  }
  else if(step.type === 'stepper') {
    const val = jrnData[step.key] || step.def;
    html += `<div class="jstepper">
  <div class="jst-left"><div class="jst-lbl">${step.unit}</div><div class="jst-val ${col}" id="jst-val">${val}</div></div>
  <div class="jst-btns">
    <button class="jstb ${col||'pk'}" onclick="jstAdj(-1,${step.min},${step.max})">âˆ’</button>
    <button class="jstb ${col||'pk'}" onclick="jstAdj(1,${step.min},${step.max})">+</button>
  </div>
</div>`;
    if(step.skip) html += `<span class="skip-link" onclick="jrnNext(true)">${step.skip}</span>`;
  }
  else if(step.type === 'chips-single') {
    html += `<div class="jchips" id="jchips">`;
    step.opts.forEach(o => {
      const sel = jrnData[step.key] === o.v ? ` on${col?'-'+col:''}` : '';
      html += `<div class="jchip${sel}" onclick="jChipSingle(this,'${step.key}','${o.v}')">${o.e} ${o.l}</div>`;
    });
    html += `</div>`;
  }
  else if(step.type === 'chips-big-single') {
    html += `<div class="jchips" id="jchips" style="flex-direction:column">`;
    step.opts.forEach(o => {
      const sel = jrnData[step.key] === o.v ? ` on${col?'-'+col:''}` : '';
      if(o.special) {
        html += `<div class="jchip jchip-big${sel}" onclick="go('mode')">${o.e} ${o.l}</div>`;
      } else {
        html += `<div class="jchip jchip-big${sel}" onclick="jChipBigSingle(this,'${step.key}','${o.v}')">${o.e} ${o.l}</div>`;
      }
    });
    html += `</div>`;
  }
  else if(step.type === 'chips-multi') {
    const sel = jrnData[step.key] || [];
    html += `<div class="jchips" id="jchips">`;
    step.opts.forEach(o => {
      const on = sel.includes(o.l) ? ` on${col?'-'+col:''}` : '';
      html += `<div class="jchip${on}" onclick="jChipMulti(this,'${step.key}','${o.l}','${col}')">${o.e} ${o.l}</div>`;
    });
    html += `</div>`;
  }
  else if(step.type === 'due-date') {
    html += `<div class="jchips" id="due-toggle" style="flex-direction:column;margin-bottom:10px">
  <div class="jchip jchip-big ${jrnData.dueDateKnown!==false?'on-bl':''}" onclick="setDueDateMode(true)">ğŸ“… Yes, I know my due date</div>
  <div class="jchip jchip-big ${jrnData.dueDateKnown===false?'on-bl':''}" onclick="setDueDateMode(false)">ğŸ©¸ Use my last period start instead</div>
</div>
<input type="date" class="jdate bl" id="jrn-inp" value="${jrnData[step.key]||''}">`;
  }

  html += `<button class="${btnCls}" onclick="jrnNext(false)">${btnLbl}</button>`;
  document.getElementById('jrn-body').innerHTML = html;
  document.querySelector('.jrn-screen').scrollTop = 0;
}

function jrnBack() {
  if(jrnStep > 0) { jrnStep--; renderJourneyStep(); }
  else go('mode');
}

function jrnNext(skip) {
  const steps = JOURNEYS[jrnMode];
  const step  = steps[jrnStep];
  if(!skip) {
    if(step.type === 'date' || step.type === 'due-date') {
      const inp = document.getElementById('jrn-inp');
      if(inp) jrnData[step.key] = inp.value;
    } else if(step.type === 'stepper') {
      const v = document.getElementById('jst-val');
      if(v) jrnData[step.key] = parseInt(v.textContent);
    }
  }
  if(jrnStep < steps.length-1) { jrnStep++; renderJourneyStep(); }
  else {
    currentMode = jrnMode;
    go('home');
  }
}

function jstAdj(d, mn, mx) {
  const el = document.getElementById('jst-val');
  if(el) el.textContent = Math.min(mx, Math.max(mn, parseInt(el.textContent)+d));
}
function jChipSingle(el, key, val) {
  el.closest('.jchips').querySelectorAll('.jchip').forEach(c=>c.classList.remove('on','on-bl','on-gr'));
  el.classList.add('on');
  jrnData[key] = val;
}
function jChipBigSingle(el, key, val) {
  const col = JOURNEYS[jrnMode][jrnStep].col;
  el.closest('.jchips').querySelectorAll('.jchip').forEach(c=>c.classList.remove('on','on-bl','on-gr'));
  el.classList.add(col ? 'on-'+col : 'on');
  jrnData[key] = val;
  setTimeout(() => jrnNext(false), 260);
}
function jChipMulti(el, key, label, col) {
  const cls = col ? 'on-'+col : 'on';
  if(!jrnData[key]) jrnData[key] = [];
  if(el.classList.contains(cls)) { el.classList.remove(cls); jrnData[key]=jrnData[key].filter(v=>v!==label); }
  else { el.classList.add(cls); jrnData[key].push(label); }
}
function setDueDateMode(known) {
  jrnData.dueDateKnown = known;
  document.querySelectorAll('#due-toggle .jchip').forEach((b,i)=>{
    b.classList.remove('on-bl');
    if(i===(known?0:1)) b.classList.add('on-bl');
  });
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   RENDER MODE CONTENT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function renderModeContent(screen) {
  const el = document.getElementById(screen+'-content');
  if(!el) return;
  if(screen==='home')     el.innerHTML = buildHome();
  if(screen==='log')      el.innerHTML = buildLog();
  if(screen==='insights') el.innerHTML = buildInsights();
  if(screen==='learn')    el.innerHTML = buildLearn();
}

/* â”€â”€â”€â”€â”€â”€ HOME â”€â”€â”€â”€â”€â”€ */
function buildHome() {
  if(currentMode==='period') return `
<div class="greeting">Good morning â˜€ï¸</div>
<div class="name">Aisha ğŸ‘‹</div>
<div class="circle-wrap">
  <div class="cycle-circle">
    <div class="day-num">14</div>
    <div class="day-label">Cycle Day</div>
    <div class="phase-label">Fertile Window ğŸŒ¿</div>
  </div>
</div>
<div class="pills-row">
  <div class="pill"><div class="pill-val">28</div><div class="pill-lbl">Avg Cycle</div></div>
  <div class="pill"><div class="pill-val" style="color:#c9a0d0">5</div><div class="pill-lbl">Period Days</div></div>
  <div class="pill"><div class="pill-val" style="color:#8ab88a">12</div><div class="pill-lbl">Logged</div></div>
</div>
<div class="cal-title">February 2026 ğŸ—“ï¸</div>
<div class="cal">
  <div class="ch">Su</div><div class="ch">Mo</div><div class="ch">Tu</div><div class="ch">We</div><div class="ch">Th</div><div class="ch">Fr</div><div class="ch">Sa</div>
  <div class="cd e"></div><div class="cd e"></div><div class="cd e"></div><div class="cd e"></div><div class="cd e"></div><div class="cd e"></div><div class="cd">1</div>
  <div class="cd p">2</div><div class="cd p">3</div><div class="cd p">4</div><div class="cd p">5</div><div class="cd p">6</div><div class="cd">7</div><div class="cd">8</div>
  <div class="cd">9</div><div class="cd f">10</div><div class="cd f">11</div><div class="cd f">12</div><div class="cd f">13</div><div class="cd t">14</div><div class="cd f">15</div>
  <div class="cd">16</div><div class="cd">17</div><div class="cd">18</div><div class="cd">19</div><div class="cd">20</div><div class="cd">21</div><div class="cd">22</div>
  <div class="cd">23</div><div class="cd">24</div><div class="cd">25</div><div class="cd">26</div><div class="cd">27</div><div class="cd">28</div><div class="cd e"></div>
</div>
<div style="display:flex;gap:10px;margin-top:8px;font-size:0.62rem;font-weight:700;color:#d0b0b8">
  <span>ğŸ”´ Period</span><span style="margin-left:4px">ğŸŸ¢ Fertile</span><span style="margin-left:4px">â—‰ Today</span>
</div>
<div class="next-banner">
  <div><div class="nb-lbl">Next Period</div><div class="nb-val">March 6 ğŸ©¸</div><div class="nb-sub">In 14 days Â· 85% confident</div></div>
  <div class="nb-ring"><svg width="50" height="50" viewBox="0 0 50 50"><circle cx="25" cy="25" r="19" fill="none" stroke="#fce8e4" stroke-width="5"/><circle cx="25" cy="25" r="19" fill="none" stroke="#d97b8a" stroke-width="5" stroke-dasharray="119" stroke-dashoffset="18" stroke-linecap="round"/></svg><div class="nb-pct">85%</div></div>
</div>
${switchModeCard()}`;

  if(currentMode==='preg') return `
<div class="greeting">Good morning â˜€ï¸</div>
<div class="name">Aisha ğŸ‘‹</div>
<div class="circle-wrap">
  <div class="cycle-circle bl">
    <div class="day-num bl">24</div>
    <div class="day-label bl">Weeks</div>
    <div class="phase-label bl">2nd Trimester ğŸ’™</div>
  </div>
</div>
<div class="pills-row">
  <div class="pill"><div class="pill-val bl" style="color:#4a70b0">113</div><div class="pill-lbl">Days to Go</div></div>
  <div class="pill"><div class="pill-val" style="color:#9870c0">Jun 5</div><div class="pill-lbl">Due Date</div></div>
  <div class="pill"><div class="pill-val" style="color:#8ab88a">28</div><div class="pill-lbl">Logs</div></div>
</div>
<div class="baby-card">
  <div class="bc-week">Week 24 â€¢ What's happening</div>
  <div class="bc-size">ğŸŒ½</div>
  <div class="bc-title">Baby is the size of a corn cob!</div>
  <div class="bc-sub">About 30cm and 600g. Baby's face is fully formed and she's practising breathing movements this week. Her brain is growing rapidly ğŸ’™</div>
</div>
<div class="next-banner bl">
  <div><div class="nb-lbl bl">Next Appointment</div><div class="nb-val">Mar 3 ğŸ©º</div><div class="nb-sub">28-week glucose screen</div></div>
  <div style="font-size:2rem">ğŸ—“ï¸</div>
</div>
${switchModeCard()}`;

  if(currentMode==='ovul') return `
<div class="greeting">Good morning â˜€ï¸</div>
<div class="name">Aisha ğŸ‘‹</div>
<div class="circle-wrap">
  <div class="cycle-circle gr">
    <div class="day-num gr">14</div>
    <div class="day-label gr">Cycle Day</div>
    <div class="phase-label gr">ğŸ¯ Peak Fertile</div>
  </div>
</div>
<div class="pills-row">
  <div class="pill"><div class="pill-val gr" style="color:#5a8e6a">Today</div><div class="pill-lbl">Ovulation</div></div>
  <div class="pill"><div class="pill-val" style="color:#d97b8a">Mar 6</div><div class="pill-lbl">Next Period</div></div>
  <div class="pill"><div class="pill-val" style="color:#8ab88a">28</div><div class="pill-lbl">Cycle Len</div></div>
</div>
<div class="fertile-bar-wrap">
  <div class="fb-title">ğŸŸ¢ Fertile Window â€” Day 10 to 16</div>
  <div class="fb-track"><div class="fb-fill" style="width:72%"></div></div>
  <div class="fb-labels"><span>Day 10</span><span>Peak (Day 14)</span><span>Day 16</span></div>
</div>
<div class="next-banner gr">
  <div><div class="nb-lbl gr">Ovulation Prediction</div><div class="nb-val">Today, Feb 21 ğŸ¯</div><div class="nb-sub">89% confidence Â· Log BBT to confirm</div></div>
  <div class="nb-ring"><svg width="50" height="50" viewBox="0 0 50 50"><circle cx="25" cy="25" r="19" fill="none" stroke="#d0e8d8" stroke-width="5"/><circle cx="25" cy="25" r="19" fill="none" stroke="#5a8e6a" stroke-width="5" stroke-dasharray="119" stroke-dashoffset="14" stroke-linecap="round"/></svg><div class="nb-pct gr">89%</div></div>
</div>
${switchModeCard()}`;
}

function switchModeCard() {
  if(currentMode==='period') return `
<div class="switch-mode-card">
  <div class="sm-title">Switch tracker</div>
  <button class="sm-btn" onclick="selectMode('preg')">ğŸ¤° Expecting? â†’ Track Pregnancy</button>
  <button class="sm-btn" onclick="selectMode('ovul')">ğŸŒ¿ Trying to conceive? â†’ Track Ovulation</button>
</div>`;
  if(currentMode==='preg') return `
<div class="switch-mode-card">
  <div class="sm-title">Switch tracker</div>
  <button class="sm-btn urgent" onclick="selectMode('period')">âš ï¸ Selected pregnancy by mistake? â†’ Period Tracker</button>
  <button class="sm-btn" onclick="selectMode('ovul')">ğŸŒ¿ Not pregnant yet? â†’ Ovulation Tracker</button>
</div>`;
  if(currentMode==='ovul') return `
<div class="switch-mode-card">
  <div class="sm-title">Switch tracker</div>
  <button class="sm-btn" onclick="selectMode('preg')">ğŸ‰ Got a positive test? â†’ Pregnancy Tracker</button>
  <button class="sm-btn" onclick="selectMode('period')">ğŸ©¸ Just track my period â†’ Period Tracker</button>
</div>`;
}

/* â”€â”€â”€â”€â”€â”€ LOG â”€â”€â”€â”€â”€â”€ */
function buildLog() {
  if(currentMode==='period') return `
<div class="page-title">How are you? ğŸŒ¸</div>
<div class="page-sub">Thursday Â· Feb 21, 2026</div>
<div class="section">Flow today?</div>
<div class="flow-row">
  <div class="flow-btn" onclick="sel(this,'.flow-btn')"><div class="flow-icon">ğŸ”´</div><div class="flow-lbl">Heavy</div></div>
  <div class="flow-btn on" onclick="sel(this,'.flow-btn')"><div class="flow-icon">ğŸŸ </div><div class="flow-lbl">Medium</div></div>
  <div class="flow-btn" onclick="sel(this,'.flow-btn')"><div class="flow-icon">ğŸŸ¡</div><div class="flow-lbl">Light</div></div>
  <div class="flow-btn" onclick="sel(this,'.flow-btn')"><div class="flow-icon">ğŸ¤</div><div class="flow-lbl">None</div></div>
</div>
<div class="section">Mood?</div>
<div class="mood-row">
  <div class="mood-btn on" onclick="sel(this,'.mood-btn')">ğŸ˜”</div>
  <div class="mood-btn" onclick="sel(this,'.mood-btn')">ğŸ˜</div>
  <div class="mood-btn" onclick="sel(this,'.mood-btn')">ğŸ™‚</div>
  <div class="mood-btn" onclick="sel(this,'.mood-btn')">ğŸ˜Š</div>
  <div class="mood-btn" onclick="sel(this,'.mood-btn')">ğŸ¥°</div>
</div>
<div class="section">Physical symptoms?</div>
<div class="chips">
  <div class="chip on" onclick="this.classList.toggle('on')">ğŸŒ€ Cramps</div>
  <div class="chip on" onclick="this.classList.toggle('on')">ğŸ¤• Headache</div>
  <div class="chip" onclick="this.classList.toggle('on')">ğŸ˜´ Fatigue</div>
  <div class="chip" onclick="this.classList.toggle('on')">ğŸ¤¢ Nausea</div>
  <div class="chip" onclick="this.classList.toggle('on')">ğŸŒŠ Bloating</div>
  <div class="chip" onclick="this.classList.toggle('on')">ğŸ’† Back Pain</div>
  <div class="chip" onclick="this.classList.toggle('on')">ğŸ« Cravings</div>
  <div class="chip" onclick="this.classList.toggle('on')">ğŸ˜¤ Mood Swings</div>
  <div class="chip" onclick="this.classList.toggle('on')">ğŸŒ¡ï¸ Breast Tenderness</div>
  <div class="chip" onclick="this.classList.toggle('on')">âœš More</div>
</div>
<div class="section">Wellness</div>
<div class="log-stepper-row">
  <div class="log-step"><div class="ls-lbl">ğŸ’§ Water (glasses)</div><div class="ls-ctrl"><button class="lsb pk" onclick="adj(this,-1,0,15)">âˆ’</button><span class="ls-val" style="color:#d97b8a">6</span><button class="lsb pk" onclick="adj(this,1,0,15)">+</button></div></div>
  <div class="log-step"><div class="ls-lbl">ğŸŒ™ Sleep (hrs)</div><div class="ls-ctrl"><button class="lsb pk" onclick="adj(this,-1,0,12)">âˆ’</button><span class="ls-val" style="color:#d97b8a">7</span><button class="lsb pk" onclick="adj(this,1,0,12)">+</button></div></div>
</div>
<div class="section">Note to self ğŸŒ·</div>
<textarea class="note" placeholder="Just for you â€” how are you really feeling?">Feeling a bit drained. Cramps are manageable today.</textarea>
<button class="save-btn">Save today's log âœ“</button>`;

  if(currentMode==='preg') return `
<div class="page-title">Daily Log ğŸ’™</div>
<div class="page-sub">Week 24 Â· Thursday, Feb 21</div>
<div class="kick-wrap">
  <div class="kick-label">ğŸ‘¶ Kick Counter â€” Today</div>
  <div class="kick-num" id="kick-num">0</div>
  <button class="kick-btn" onclick="doKick()">ğŸ‘¶</button>
  <div style="font-size:0.68rem;color:#7090c0;font-weight:700;margin-top:10px">Tap when you feel baby move â€” aim for 10 kicks in 2 hours</div>
</div>
<div class="section">How are you feeling?</div>
<div class="mood-row">
  <div class="mood-btn" onclick="sel(this,'.mood-btn')">ğŸ˜”</div>
  <div class="mood-btn on" onclick="sel(this,'.mood-btn')">ğŸ˜</div>
  <div class="mood-btn" onclick="sel(this,'.mood-btn')">ğŸ™‚</div>
  <div class="mood-btn" onclick="sel(this,'.mood-btn')">ğŸ˜Š</div>
  <div class="mood-btn" onclick="sel(this,'.mood-btn')">ğŸ¥°</div>
</div>
<div class="section">Symptoms today?</div>
<div class="chips">
  <div class="chip on-bl" onclick="this.classList.toggle('on-bl')">ğŸ¤¢ Nausea</div>
  <div class="chip" onclick="this.classList.toggle('on-bl')">ğŸ”¥ Heartburn</div>
  <div class="chip on-bl" onclick="this.classList.toggle('on-bl')">ğŸ˜´ Fatigue</div>
  <div class="chip" onclick="this.classList.toggle('on-bl')">ğŸ’† Back Pain</div>
  <div class="chip" onclick="this.classList.toggle('on-bl')">ğŸ¦µ Leg Cramps</div>
  <div class="chip" onclick="this.classList.toggle('on-bl')">ğŸŒŠ Swelling</div>
  <div class="chip" onclick="this.classList.toggle('on-bl')">ğŸ˜° Anxiety</div>
  <div class="chip" onclick="this.classList.toggle('on-bl')">ğŸ˜´ Insomnia</div>
  <div class="chip" onclick="this.classList.toggle('on-bl')">ğŸ¤¯ Brain Fog</div>
  <div class="chip" onclick="this.classList.toggle('on-bl')">âœ¨ Feeling great!</div>
</div>
<div class="section">Wellness</div>
<div class="log-stepper-row">
  <div class="log-step"><div class="ls-lbl">ğŸ’§ Water (glasses)</div><div class="ls-ctrl"><button class="lsb bl" onclick="adj(this,-1,0,15)">âˆ’</button><span class="ls-val bl">8</span><button class="lsb bl" onclick="adj(this,1,0,15)">+</button></div></div>
  <div class="log-step"><div class="ls-lbl">âš–ï¸ Weight (kg)</div><div class="ls-ctrl"><button class="lsb bl" onclick="adj(this,-1,50,120)">âˆ’</button><span class="ls-val bl">64</span><button class="lsb bl" onclick="adj(this,1,50,120)">+</button></div></div>
</div>
<div class="section">Appointment notes ğŸ©º</div>
<textarea class="note" placeholder="Notes from your last visit, questions for next timeâ€¦"></textarea>
<button class="save-btn save-btn-bl">Save today's log ğŸ’™</button>`;

  if(currentMode==='ovul') return `
<div class="page-title">Daily Log ğŸŒ¿</div>
<div class="page-sub">Cycle Day 14 Â· Feb 21, 2026</div>
<div class="bbt-input-wrap">
  <div class="bbt-lbl">ğŸŒ¡ï¸ Basal Body Temperature</div>
  <input class="bbt-inp" type="number" step="0.01" min="35" max="38.5" placeholder="36.70" value="36.72">
  <div class="bbt-unit">Â°C â€” taken immediately on waking, before getting up</div>
</div>
<div class="section">Cervical mucus?</div>
<div class="chips">
  <div class="chip" onclick="selChipSingle(this,'.cm-chip')">ğŸœï¸ Dry / None</div>
  <div class="chip cm-chip" onclick="selChipSingle(this,'.cm-chip')">ğŸ¬ Sticky</div>
  <div class="chip cm-chip" onclick="selChipSingle(this,'.cm-chip')">ğŸ¥› Creamy</div>
  <div class="chip cm-chip on-gr" onclick="selChipSingle(this,'.cm-chip')">ğŸ’§ Watery</div>
  <div class="chip cm-chip" onclick="selChipSingle(this,'.cm-chip')">ğŸ¥š Egg White (peak!)</div>
</div>
<div class="section">OPK Test result?</div>
<div class="chips">
  <div class="chip" onclick="selChipSingle(this,'.opk-chip')">â¬œ Negative</div>
  <div class="chip opk-chip" onclick="selChipSingle(this,'.opk-chip')">ğŸŸ¡ Low</div>
  <div class="chip opk-chip on-gr" onclick="selChipSingle(this,'.opk-chip')">ğŸŸ  High</div>
  <div class="chip opk-chip" onclick="selChipSingle(this,'.opk-chip')">ğŸ¯ Peak!</div>
  <div class="chip opk-chip" onclick="selChipSingle(this,'.opk-chip')">â­ï¸ Didn't test</div>
</div>
<div class="section">Mood & energy?</div>
<div class="mood-row">
  <div class="mood-btn" onclick="sel(this,'.mood-btn')">ğŸ˜”</div>
  <div class="mood-btn" onclick="sel(this,'.mood-btn')">ğŸ˜</div>
  <div class="mood-btn on" onclick="sel(this,'.mood-btn')">ğŸ™‚</div>
  <div class="mood-btn" onclick="sel(this,'.mood-btn')">ğŸ˜Š</div>
  <div class="mood-btn" onclick="sel(this,'.mood-btn')">ğŸ¥°</div>
</div>
<div class="section">Other symptoms?</div>
<div class="chips">
  <div class="chip" onclick="this.classList.toggle('on-gr')">ğŸ©¸ Mid-cycle spotting</div>
  <div class="chip" onclick="this.classList.toggle('on-gr')">ğŸ’« Ovulation pain (Mittelschmerz)</div>
  <div class="chip" onclick="this.classList.toggle('on-gr')">ğŸŒ¿ High libido</div>
  <div class="chip" onclick="this.classList.toggle('on-gr')">ğŸŒ¡ï¸ Feeling warm</div>
</div>
<div class="section">Note ğŸŒ·</div>
<textarea class="note" placeholder="Anything else worth noting today?"></textarea>
<button class="save-btn save-btn-gr">Save today's log ğŸŒ¿</button>`;
}

/* â”€â”€â”€â”€â”€â”€ INSIGHTS â”€â”€â”€â”€â”€â”€ */
function buildInsights() {
  if(currentMode==='period') return `
<div class="page-title">Your Story âœ¨</div>
<div class="page-sub">6 months of data</div>
<div class="big-insight">
  <div class="bi-emoji">ğŸŒ¿</div>
  <div class="bi-title">You're beautifully regular!</div>
  <div class="bi-sub">Your cycles have stayed between 27â€“29 days for 6 months. Your AI model is 92% accurate for your body ğŸ’•</div>
</div>
<div class="insight-card">
  <div class="ic-head">ğŸ“Š Cycle Length â€” Last 6 Months</div>
  <div class="mini-chart">
    <div class="mc-bar" style="height:70%"></div>
    <div class="mc-bar" style="height:80%"></div>
    <div class="mc-bar" style="height:73%"></div>
    <div class="mc-bar hi" style="height:85%"></div>
    <div class="mc-bar" style="height:76%"></div>
    <div class="mc-bar" style="height:78%;opacity:0.7"></div>
  </div>
  <div class="mc-labels"><div class="mc-lbl">Sep</div><div class="mc-lbl">Oct</div><div class="mc-lbl">Nov</div><div class="mc-lbl">Dec</div><div class="mc-lbl">Jan</div><div class="mc-lbl">Feb</div></div>
</div>
<div class="insight-card">
  <div class="ic-head">ğŸŒ¸ Most common symptoms</div>
  <div class="bar-row"><div class="bar-name">Cramps</div><div class="bar-track"><div class="bar-fill" style="width:80%;background:linear-gradient(90deg,#fdd0d0,#d97b8a)"></div></div><div class="bar-num">8Ã—</div></div>
  <div class="bar-row"><div class="bar-name">Fatigue</div><div class="bar-track"><div class="bar-fill" style="width:58%;background:linear-gradient(90deg,#e0c8f0,#a880c8)"></div></div><div class="bar-num" style="color:#a880c8">6Ã—</div></div>
  <div class="bar-row"><div class="bar-name">Headache</div><div class="bar-track"><div class="bar-fill" style="width:38%;background:linear-gradient(90deg,#c8e8d0,#6a9e7a)"></div></div><div class="bar-num" style="color:#6a9e7a">4Ã—</div></div>
  <div class="bar-row"><div class="bar-name">Bloating</div><div class="bar-track"><div class="bar-fill" style="width:28%;background:linear-gradient(90deg,#c8d8f0,#5a80c0)"></div></div><div class="bar-num" style="color:#5a80c0">3Ã—</div></div>
</div>
<div class="insight-card">
  <div class="ic-head">ğŸ”® What's coming up</div>
  <div class="upcoming-row ur-period"><span>ğŸ©¸ Next period</span><span>Mar 6 Â· 92%</span></div>
  <div class="upcoming-row ur-fertile"><span>ğŸŒ¿ Fertile window</span><span>Feb 18â€“23</span></div>
  <div class="upcoming-row ur-ov"><span>â— Ovulation</span><span>Feb 21 (today!)</span></div>
</div>
<div class="insight-card">
  <div class="ic-head">ğŸ’­ Mood by phase</div>
  <div class="bar-row"><div class="bar-name">Menstrual</div><div class="bar-track"><div class="bar-fill" style="width:30%;background:linear-gradient(90deg,#fdd0d0,#d97b8a)"></div></div><div class="bar-num">ğŸ˜”</div></div>
  <div class="bar-row"><div class="bar-name">Follicular</div><div class="bar-track"><div class="bar-fill" style="width:90%;background:linear-gradient(90deg,#c8e8d0,#6a9e7a)"></div></div><div class="bar-num">ğŸ¥°</div></div>
  <div class="bar-row"><div class="bar-name">Ovulation</div><div class="bar-track"><div class="bar-fill" style="width:85%;background:linear-gradient(90deg,#c8e8d0,#6a9e7a)"></div></div><div class="bar-num">ğŸ˜Š</div></div>
  <div class="bar-row"><div class="bar-name">Luteal</div><div class="bar-track"><div class="bar-fill" style="width:50%;background:linear-gradient(90deg,#e0c8f0,#a880c8)"></div></div><div class="bar-num">ğŸ˜</div></div>
</div>`;

  if(currentMode==='preg') return `
<div class="page-title">Your Journey ğŸ’™</div>
<div class="page-sub">Week 24 of 40</div>
<div class="big-insight bl">
  <div class="bi-emoji">ğŸ’™</div>
  <div class="bi-title">You're doing amazing!</div>
  <div class="bi-sub bl">Week 24 â€” you've completed 60% of your pregnancy. Baby is developing beautifully and you've been consistent with logging ğŸ’•</div>
</div>
<div class="insight-card bl">
  <div class="ic-head">ğŸ“Š Kick Count â€” Last 7 Days</div>
  <div class="mini-chart">
    <div class="mc-bar bl" style="height:60%"></div>
    <div class="mc-bar bl" style="height:75%"></div>
    <div class="mc-bar bl" style="height:65%"></div>
    <div class="mc-bar bl hi" style="height:90%"></div>
    <div class="mc-bar bl" style="height:80%"></div>
    <div class="mc-bar bl" style="height:70%"></div>
    <div class="mc-bar bl hi" style="height:85%;opacity:0.8"></div>
  </div>
  <div class="mc-labels"><div class="mc-lbl">Sat</div><div class="mc-lbl">Sun</div><div class="mc-lbl">Mon</div><div class="mc-lbl">Tue</div><div class="mc-lbl">Wed</div><div class="mc-lbl">Thu</div><div class="mc-lbl">Fri</div></div>
</div>
<div class="insight-card bl">
  <div class="ic-head">âš–ï¸ Weight Gain Progress</div>
  <div class="bar-row"><div class="bar-name">Current</div><div class="bar-track bl"><div class="bar-fill" style="width:60%;background:linear-gradient(90deg,#c8d8f4,#4a70b0)"></div></div><div class="bar-num" style="color:#4a70b0">+7 kg</div></div>
  <div class="bar-row"><div class="bar-name">Recommended</div><div class="bar-track bl"><div class="bar-fill" style="width:68%;background:linear-gradient(90deg,#c8e8d0,#6a9e7a)"></div></div><div class="bar-num" style="color:#6a9e7a">+8 kg</div></div>
  <div style="font-size:0.68rem;color:#7090b0;font-weight:600;margin-top:8px">âœ… You're within the healthy range for week 24</div>
</div>
<div class="insight-card bl">
  <div class="ic-head">ğŸ—“ï¸ Upcoming milestones</div>
  <div class="upcoming-row ur-appt"><span>ğŸ©º Glucose screening</span><span>Mar 3</span></div>
  <div class="upcoming-row ur-appt"><span>ğŸ‘¶ 3rd trimester begins</span><span>Week 28</span></div>
  <div class="upcoming-row ur-appt"><span>ğŸ¥ Birth class starts</span><span>Mar 20</span></div>
  <div class="upcoming-row ur-appt"><span>ğŸ Due date</span><span>Jun 5</span></div>
</div>
<div class="insight-card bl">
  <div class="ic-head">ğŸŒ¡ï¸ Common symptoms this trimester</div>
  <div class="bar-row"><div class="bar-name">Fatigue</div><div class="bar-track bl"><div class="bar-fill" style="width:72%;background:linear-gradient(90deg,#c8d8f4,#4a70b0)"></div></div><div class="bar-num" style="color:#4a70b0">9d</div></div>
  <div class="bar-row"><div class="bar-name">Back pain</div><div class="bar-track bl"><div class="bar-fill" style="width:55%;background:linear-gradient(90deg,#c8d8f4,#4a70b0)"></div></div><div class="bar-num" style="color:#4a70b0">7d</div></div>
  <div class="bar-row"><div class="bar-name">Heartburn</div><div class="bar-track bl"><div class="bar-fill" style="width:38%;background:linear-gradient(90deg,#c8d8f4,#4a70b0)"></div></div><div class="bar-num" style="color:#4a70b0">5d</div></div>
</div>`;

  if(currentMode==='ovul') return `
<div class="page-title">Your Fertility ğŸŒ¿</div>
<div class="page-sub">6 cycles tracked</div>
<div class="big-insight gr">
  <div class="bi-emoji">ğŸ¯</div>
  <div class="bi-title">Ovulation confirmed today!</div>
  <div class="bi-sub gr">Your BBT rise + egg-white mucus + high OPK confirms ovulation on Day 14. Your pattern is very consistent â€” 89% prediction accuracy ğŸŒ¿</div>
</div>
<div class="insight-card gr">
  <div class="ic-head">ğŸŒ¡ï¸ BBT Chart â€” Last 14 Days</div>
  <div class="bbt-chart-wrap">
    <div class="bbt-bar pre" style="height:30%"></div>
    <div class="bbt-bar pre" style="height:35%"></div>
    <div class="bbt-bar pre" style="height:32%"></div>
    <div class="bbt-bar pre" style="height:28%"></div>
    <div class="bbt-bar pre" style="height:33%"></div>
    <div class="bbt-bar" style="height:38%"></div>
    <div class="bbt-bar" style="height:42%"></div>
    <div class="bbt-bar" style="height:40%"></div>
    <div class="bbt-bar" style="height:45%"></div>
    <div class="bbt-bar" style="height:48%"></div>
    <div class="bbt-bar" style="height:46%"></div>
    <div class="bbt-bar" style="height:52%"></div>
    <div class="bbt-bar" style="height:55%"></div>
    <div class="bbt-bar peak" style="height:80%"></div>
    <div class="bbt-ov-line" style="right:8%"></div>
  </div>
  <div class="bbt-chart-lbl"><span>Day 1</span><span>Ovulation â†‘</span><span>Today</span></div>
</div>
<div class="insight-card gr">
  <div class="ic-head">ğŸ“Š Fertile Window â€” Last 6 Cycles</div>
  <div class="bar-row"><div class="bar-name">Oct</div><div class="bar-track gr"><div class="bar-fill" style="width:60%;background:linear-gradient(90deg,#c0e8d0,#5a8e6a)"></div></div><div class="bar-num" style="color:#5a8e6a">Day 13</div></div>
  <div class="bar-row"><div class="bar-name">Nov</div><div class="bar-track gr"><div class="bar-fill" style="width:65%;background:linear-gradient(90deg,#c0e8d0,#5a8e6a)"></div></div><div class="bar-num" style="color:#5a8e6a">Day 14</div></div>
  <div class="bar-row"><div class="bar-name">Dec</div><div class="bar-track gr"><div class="bar-fill" style="width:60%;background:linear-gradient(90deg,#c0e8d0,#5a8e6a)"></div></div><div class="bar-num" style="color:#5a8e6a">Day 13</div></div>
  <div class="bar-row"><div class="bar-name">Jan</div><div class="bar-track gr"><div class="bar-fill" style="width:65%;background:linear-gradient(90deg,#c0e8d0,#5a8e6a)"></div></div><div class="bar-num" style="color:#5a8e6a">Day 14</div></div>
  <div class="bar-row"><div class="bar-name">Feb</div><div class="bar-track gr"><div class="bar-fill" style="width:65%;background:linear-gradient(90deg,#c0e8d0,#5a8e6a)"></div></div><div class="bar-num" style="color:#5a8e6a">Day 14</div></div>
</div>
<div class="insight-card gr">
  <div class="ic-head">ğŸ”® Upcoming predictions</div>
  <div class="upcoming-row ur-fertile"><span>ğŸŸ¢ Fertile window closes</span><span>Feb 23</span></div>
  <div class="upcoming-row ur-period"><span>ğŸ©¸ Next period due</span><span>Mar 6</span></div>
  <div class="upcoming-row ur-fertile"><span>ğŸŒ¿ Next fertile window</span><span>Mar 18â€“24</span></div>
  <div class="upcoming-row ur-ov"><span>â— Next ovulation</span><span>Mar 21</span></div>
</div>`;
}

/* â”€â”€â”€â”€â”€â”€ LEARN â”€â”€â”€â”€â”€â”€ */
function buildLearn() {
  let cats, arts;
  if(currentMode==='period') {
    cats = [
      {l:'All',on:true},{l:'ğŸŒ¸ Phases'},{l:'ğŸ’† Symptoms'},{l:'ğŸ§¼ Hygiene'},{l:'âŒ Myths'},{l:'ğŸ¥ Doctor'}
    ];
    arts = [
      {i:'ğŸ”¬',tag:'tag-g',tl:'Phases',art:'The 4 phases of your cycle â€” what\'s actually happening',m:'5 min Â· WHO Source'},
      {i:'ğŸŒ¿',tag:'tag-p',tl:'Symptoms',art:'Natural ways to ease period cramps',m:'4 min Â· Evidence-based'},
      {i:'âŒ',tag:'tag-m',tl:'Myths',art:'10 period myths â€” completely debunked!',m:'6 min Â· Global'},
      {i:'ğŸ©º',tag:'tag-d',tl:'Doctor',art:'When should you see a doctor about your period?',m:'3 min Â· Medical Guide'},
      {i:'ğŸ’°',tag:'tag-h',tl:'Hygiene',art:'Period products guide â€” pads, cups, discs, underwear',m:'5 min Â· Global'},
      {i:'ğŸ§ ',tag:'tag-m',tl:'Mental Health',art:'PMS vs PMDD â€” know the difference',m:'4 min Â· Clinical'}
    ];
  } else if(currentMode==='preg') {
    cats = [
      {l:'All',on:true},{l:'ğŸ‘¶ This Week'},{l:'ğŸ¥— Nutrition'},{l:'ğŸ§˜ Mental Health'},{l:'ğŸ¥ Birth Prep'},{l:'ğŸ‘¼ Newborn'}
    ];
    arts = [
      {i:'ğŸ‘¶',tag:'tag-b',tl:'This Week',art:'Week 24: What\'s developing in your baby right now',m:'5 min Â· NHS'},
      {i:'ğŸ¥—',tag:'tag-n',tl:'Nutrition',art:'Iron-rich foods every pregnant woman needs',m:'4 min Â· Dietitian-reviewed'},
      {i:'ğŸ§˜',tag:'tag-m',tl:'Mental Health',art:'Prenatal anxiety â€” it\'s more common than you think',m:'6 min Â· Clinical'},
      {i:'ğŸ¥',tag:'tag-b',tl:'Birth Prep',art:'What to pack in your hospital bag â€” complete checklist',m:'5 min Â· Guide'},
      {i:'ğŸ’Š',tag:'tag-g',tl:'Nutrition',art:'Folic acid, Vitamin D & supplements in pregnancy',m:'4 min Â· Medical'},
      {i:'ğŸ‘¼',tag:'tag-n',tl:'Newborn',art:'The first 24 hours after birth â€” what to expect',m:'6 min Â· Midwife-reviewed'}
    ];
  } else {
    cats = [
      {l:'All',on:true},{l:'ğŸŒ¡ï¸ BBT'},{l:'ğŸ’Š OPK'},{l:'ğŸ‘¶ TTC Tips'},{l:'ğŸ”¬ PCOS'},{l:'ğŸŒ¿ Natural'}
    ];
    arts = [
      {i:'ğŸŒ¡ï¸',tag:'tag-n',tl:'BBT',art:'How to take your basal body temperature correctly',m:'4 min Â· Fertility Expert'},
      {i:'ğŸ’Š',tag:'tag-g',tl:'OPK',art:'OPK strips â€” how to read them and when to test',m:'5 min Â· Clinical'},
      {i:'ğŸ’§',tag:'tag-b',tl:'TTC Tips',art:'Cervical mucus: your most underrated fertility sign',m:'4 min Â· Evidence-based'},
      {i:'ğŸ‘¶',tag:'tag-p',tl:'TTC Tips',art:'Best timing for conception â€” the science explained',m:'5 min Â· Research'},
      {i:'ğŸ”¬',tag:'tag-m',tl:'PCOS',art:'PCOS and ovulation â€” can you still get pregnant?',m:'7 min Â· Endocrinologist'},
      {i:'ğŸŒ¿',tag:'tag-n',tl:'Natural',art:'Seed cycling for hormone balance â€” does it work?',m:'5 min Â· Nutritionist'}
    ];
  }

  const onCls = currentMode==='preg' ? 'on-bl' : currentMode==='ovul' ? 'on-gr' : 'on';
  let html = `<div class="page-title">Learn ğŸ“–</div>
<div class="page-sub">${currentMode==='period'?'Cycle & body wisdom':currentMode==='preg'?'Your pregnancy guide':'Fertility & ovulation'}</div>
<input class="search-box" type="text" placeholder="ğŸ” Search articlesâ€¦">
<div class="cat-scroll">`;
  cats.forEach(c => html += `<div class="cat-btn${c.on?' '+onCls:''}" onclick="selCat(this,'${onCls}')">${c.l}</div>`);
  html += `</div>`;
  arts.forEach(a => html += `<div class="article"><div class="art-icon">${a.i}</div><div><div class="art-tag ${a.tag}">${a.tl}</div><div class="art-title">${a.art}</div><div class="art-meta">${a.m}</div></div></div>`);
  html += `<div style="text-align:center;font-size:0.7rem;color:#d0b0b8;font-weight:700;padding:14px 0;border-top:1px solid #fce8e4;margin-top:4px">ğŸŒ Available in 30+ languages</div>`;
  return html;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   HELPERS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function sel(el, selector) {
  const scope = el.closest('#log-content') || el.closest('.screen') || document;
  scope.querySelectorAll(selector).forEach(b => b.classList.remove('on','on-bl','on-gr'));
  el.classList.add('on');
}
function selChipSingle(el, selector) {
  const scope = el.closest('#log-content') || document;
  scope.querySelectorAll(selector).forEach(b => b.classList.remove('on','on-bl','on-gr'));
  el.classList.add('on-gr');
}
function selLang(el) { document.querySelectorAll('.lang-btn').forEach(b=>b.classList.remove('on')); el.classList.add('on'); }
function selCat(el, cls) {
  document.querySelectorAll('.cat-btn').forEach(b=>b.classList.remove('on','on-bl','on-gr'));
  el.classList.add(cls||'on');
}
function adj(btn, d, mn, mx) {
  const v = btn.parentElement.querySelector('.ls-val');
  if(v) v.textContent = Math.min(mx, Math.max(mn, parseInt(v.textContent)+d));
}
function doKick() {
  kicks++;
  const el = document.getElementById('kick-num');
  if(el) { el.textContent = kicks; el.style.transform='scale(1.4)'; setTimeout(()=>el.style.transform='scale(1)',160); }
}
</script>
</body>
</html>
